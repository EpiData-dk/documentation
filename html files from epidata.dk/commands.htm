<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta name="copyright" content="EpiData Association">
<meta name="Get_Latest_From" content="Http://www.epidata.dk">
<meta name="author" content="Specification: JM.Lauritsen. Form and structure: J.Hockin">
<meta name="Initial_design" content="J.Hockin ">
<title>EpiData Analysis Overview of commands & functions</title>
	<STYLE>
	<!--
		P { color: #000000; font-family: serif,sanserif,monospace ; font-size: 1.0em; ALIGN=JUSTIFY}
		H1 {  font-size: 1.1em; margin-top: 1cm;  color: #000000; widows: 2; orphans: 2; color : Blue }
		H2 { font-size: 1.05em;  margin-top: 0.5cm; direction: ltr; color: #000000; text-align: left; ; color : Blue}
		H3 { font-size: 1.025em; margin-top: 0.5cm;  direction: ltr; color: #000000; text-align: left; ; color : Blue }
		H4 { font-size: 1.0em; margin-top: 0.5cm;  direction: ltr; color: #000000; text-align: left; ; color : Blue }
		ul { margin-left: 0px; margin-top: 0.2cm}
 		li { margin-left: 1px; margin-top: 0.0cm}
       		.heading { color: blue; font-weight: bold; font-size: 1.05em; ALIGN=JUSTIFY}              
		.cmdgroup {color: blue; font-weight: normal; background-color: yellow} 
		.bodywhite  {color: black; background-color:white; }
		.body    {color: white ; background-color: white ; font-size: 1.0em ; font-weight: normal }
		.cmd      {color: green; font-weight: normal; }
		.cmdgroup {color: blue; font-weight: normal; background-color: yellow} 
		.limit    {font-weight: normal; color: red; } 
		.indent   {margin-left: 30px;}
		.small {font-size: 0.85em;}
		table {empty-cells: show; 	vertical-align: baseline; border-spacing: 0; font-family: serif,sanserif,monospace ; font-size: 1.0em; }
		table { color: #000000;	background-color: white;	empty-cells: show;}
		table tr,td { border: solid blue 1px; 	background-color: white; Text-align: left;	padding-left: .3em;	padding-right: .3em; font-size: 1.0em}
		table .firstcol { Text-align: left ; font-weight: bold; color: red}   
	-->
	</STYLE>
</head>
<body class=bodywhite>

<!-- put here all tags for old commands -->
<a name=etab></a><a name=epitables></a>

<h2><a name="top"></a>EpiData Analysis: Command and Function Reference Guide
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font size=-2>Document version 0.82 </font>
</h2>

<table cellpadding="3" width="100%" cellspacing="1" border="1" >
<tr>
     <td >
	   <b>-&nbsp;</b><a href=#readgrp>Read & Save Data, sorting</a></li>
	   <br><b>-&nbsp;</b><a href=#viewgrp>View and edit data</a></li>
	   <br><b>-&nbsp;</b><a href=#tablegrp>Frequency and Cross Tables</a></li>
	   <br><b>-&nbsp;</b><a href=#analysisgrp>Descriptive analysis & testing</a></li>
	   <br><b>-&nbsp;</b><a href=#graphgrp>Graphs</a></li>
	   <br><b>-&nbsp;</b><a href=#spcgraph>SPC graphs - Pareto Charts, Ichart etc.</a></li>
     </td>
     
	 <td>  
		<b>-&nbsp;</b><a href=#savegrp>Show results, output, files and run scripts</a></li>	 
	   <br><b>-&nbsp;</b><a href=#selectgrp>Select observations</a></li>
	   <br><b>-&nbsp;</b><a href=#gengrp>Generate/Change&nbsp;variables</a></li>
	   <br><b>-&nbsp;</b><a href=#labelgrp>Label data</a></li>
	   <br><b>-&nbsp;</b><a href=#stopgrp>Clean up & stop</a></li>
	   <br><b>-&nbsp;</b><a href=#infogrp>Information</a></li>
</td>
       <td>
	   	   <b>-&nbsp;</b><a href=#diskgrp>Disk and file commands</a></li>
           <br><b>-&nbsp;</b><a href=#setgrp>Setup parameters</a></li></ul>		       
		   <br><b>-&nbsp;</b><a href=#programgrp>Programming commands</a></li></ul>
           <br><br><b>-&nbsp;</b><a href="analysisversioninfo.htm">Changes in this version</a></li>
		   <br><b>-&nbsp;</b><a href=#oldcommandgrp>Obsolete Commands</a></li>
</td>
</tr>
<tr>
       <td>  <ul><li><a href=#functions>Functions</a></li></ul> 
</td><td>  <ul>   <li><a href=#operators>Operators</a></li></ul></td>
<td><A HREF="epi6.htm"> Key differences from Epi Info v6 (click)</A>
</tr>

</table>
<p>
Syntax: <font class=cmd>command variables [/option] [/option=a|b|] [if condition] </font>
<font class=indent>[ ]: optional specification. a|b|... indicates alternative choices</font></p>
<hr>

<table border="1" cellspacing="0" cellpadding="4" frame="void" rules="rows">
<tr><td colspan=2 class=cmdgroup><a name="readgrp"></a><a href=#top>Top</a> Read Data, Save Data etc.
  </td></tr>

<tr valign=top>
       <td><a name=read><A HREF="read.htm">read</a></a>
</td>
       <td><font class=cmd>read [filename[.{rec|dbf|csv}]] [/close] [/CB] </font><br>
	   Read a copy of the data file into memory 
	           <ul>Options:
              <li>/CB : reads separated data from the clipboard<br>
                E.g. go to a spreadsheet, mark block, press Ctrl+C, then issue this command. Also found in menu-file
              <li>/close will clear memory - use if you have another file open
             <br>/Close is only needed if you have changed the data. E.g. labels, add new variables, define missingvalue
		  <li>Reading records marked for deletion is controlled with: <font class=cmd>set read deleted=ON[OFF]</font>
		  </ul>
		  Without parameters, the open file dialogue is started<br>
          <br><font class=limit>Note: </font>The default working folder <u>changes </u>when you use the open file dialog. Not if you provide the whole filename
</td></tr>


<tr valign=top>
       <td><a name=savedata></a><a name=save></a>savedata</td>
       <td><font class=cmd>savedata filename [field list] [/replace]</font><br>
	   Save a copy of all variables in memory to a file - to use the data again later
	   <ul>options:
	   <li>/replace : Overwrite existing file<br>
           <font class=limit>Note:</font> Chk files are also replaced or deleted with option /replace
	   </ul>
	   Saves all variables, but <font class=limit>only</font> records included in current select.
     </td>
</tr>

<tr valign=top>
       <td><a name=append>append</a></td>
       <td><font class=cmd>append [var1 var2...] [/file=filename[.{rec|dbf|csv}]] </font><br>
            Add records (observations) after all observations in current file
           <ul>Options:
           <li>/filename= :append this file - without /filename the file open dialog is shown.
		   </ul>
	   - only fields with same name as variables in memory will be read
  <br>Variables from previous read which are not in the appended file will be set to missing for the appended records
</td></tr>


<tr valign=top>
       <td><a name=relate></a><a name=merge>merge</td>
       <td><font class=cmd>merge key<sub>1</sub> key<sub>2</sub> ....key<sub>n</sub> [/file=filename] [/table] [/update|/updateall] </font><br>
	   merge the current data file to another data file based on <i>key variables</i><br>
           Default: Values from all variables in memory are left unchanged.<br>
        <ul>Options:
		<li>/file :  Name of external file to merge 
		<li>/update : All non-missing value in the extenal merged file replaces values in common variables in memory
           <li>/Updateall : All values for common variables taken from external merged file             
         <li>/table: The external file is used as a lookup table. <br>E.g. to add person information to a file with clinical results.	
		 <br>Without the /table option combination of key variables must be unique
	</ul>           
To keep information in variables with same name (e.g. mergevar or name) from all files <a href=#rename>rename</a> 
the variables <b>before</b> you merge the next file. E.g. <font class=cmd>read pt;rename name to ptname; 
merge hospid hospital;rename name to hospname; etc ....</font>
<p>
After <font class=cmd>merge</font> the variable <b>mergevar</b> indicates source of information for each observation (records). 
<b>mergevar</b> is defined with variable labels for these values:  <b>1 </b>: Only in memory (original) <b>2 </b>: Only in external file <b>3</b>:In both 
</p>  			
	   </td>
</tr>

<tr valign=top>
       <td><a name=agg></a><a name=aggregate></a>aggregate<br>agg</td>
       <td><font class=cmd>aggregate variables /options  /statistics</font><br>
	   Aggregate - collapse - combine - data. E.g. to count by a combination of variables.
	      <ul>options<li>/save=filename <li>/replace : With save, will <font class=limit>overwrite</font> your data !!
		  </li>Further options: see <a href=#stattab>Stattables</a>
          </ul>
	   <font class=limit>Respects current select</font></td>
</tr>


<tr valign=top>
       <td><a name=sort></a>sort</td>
       <td><font class=cmd>sort variable1 [variable2]  [variable3 ...]</font><br>
	   sort the current dataset by one or more variables<br>
	   </td>
</tr>

<tr><td colspan=2 class=cmdgroup><a name="analysisgrp"></a><a href=#top>Top</a> Common analysis commands
  </td></tr>
<tr valign=top>
       <td><a name=count><A HREF="count.htm">count</a></a><br>count if</td>
       <td><font class=cmd>count</font><br>
           <font class=cmd>count if [logical statement]</font><br>
	   Counts number of records. 
           <br>With <font class=cmd>count if (logical statement)</font> only records for which the logical statement is true are counted. 
           <br>Count is saved as result variable $count <font class=cmd>var result</font> to see names and structure.
	   <br><font class=limit>Note: </font> if must be used with caution with float variables 
	   <br>count if 10*dectime >= 31     // is ok if you wish to count records where dectime>= 3.1
           <br>Remember the <font class=limit>user has the responsibility </font> to control that complex if statements work correctly
	   </td>
</tr>

<tr valign=top>
       <td><a name=describe><A HREF="describe.htm">describe</A></a><br><a name=des>des</a></td>
       <td><font class=cmd>describe [<i>variable1 </i>] [variable2 ...] [/options]</font><br>
	   Descriptive distributional statistics for each numeric field. <font class=cmd>describe</font> will describe all variables.
           <ul>options:
		   <li>/NM: Records with missing in any variable are excluded. 
	       <li>Save as a data file with <font class=cmd>aggregate</font>
           <li>Estimates saved as result variables, try <font class=cmd>result</font> to see names and structure.
		   <li>Specify design: <font class=cmd>set table design=line[box][filled][shaded][...] </font>
	       </ul>
	   Without variable names all are used. (des /NM does not work, indicate: des * /NM)  
           <p>Percentiles can be <font class=limit>imprecise </font> for small number of observations (&lt; 11)
           <br>Note percentiles are weighted for distance btw. observations. 
           <br>Ref: Bland M.Introduction to Medical Statistics, Oxford, 1995. Second Ed. p 55</p>
	   </td>
</tr>
<tr valign=top>
       <td><a name=mean></a><a name=t-test></a><a name=ttest></a><a name=ftest></a><a name=means><A HREF="means.htm">means</a></a><br>mea</td>
       <td><font class=cmd>means <i>variable1 </i>[/by=variable2]    [/T] [/q]</font><br>
	   basic descriptive statistics for numeric variable1, optionally stratified by variable2 <br>
	    <ul>options:
		<li>/by=variable2 : Stratify by this variable
		<li>/t :test for homogeneity of the mean across strata. (same or different mean)
		<br>Including Bartletts test for homogeneity of variance with more than two strata 
		<br>F-test is provided, can be interpreted as T-test with two strata  
		<li>Without /by and with /t : Test that mean=0       <br>(e.g. as a paired T-test for difference in before and after measure)
		<li>Estimates saved as result variables, try <font class=cmd>var result</font> to see names and structure.
        <li>Specify design: <font class=cmd>set table design=line[box][filled][shaded][...] </font>
          <br>Anova table: <font class=cmd>set table design summary=line[box][filled][shaded][...] </font>
          <br><font class=limit>Note</font>Confidence Intervals given are based on the T-distribution with N-1 degrees of freedom.          
</td></tr>

<tr valign=top>
       <td><a name=kwallis></a>kwallis</td>
       <td><font class=cmd>kwallis variable1 /by=variable2 </font><br>
	   Kruskall-Wallace analysis of variance, where <i>variable2</i> is a categorical factors<br>
           <br>Specify design: <font class=cmd>set table design=line[box][filled][shaded][...] </font>
	   </td>
</tr>
<tr valign=top>
       <td><a name=regress></a>regress</td>
       <td><font class=cmd>regress yvar xvar1 [xvar2 xvar3 ...]</font><br>
	   linear regression with yvar as the dependent variable<br>
	   <font class=limit>Maximum of 5000 records</font>
           <br>Specify design: <font class=cmd>set table design=line[box][filled][shaded][...] </font>
</td>
</tr>

<tr valign=top>
       <td><a name=correlate></a><a name=cor></a>correlate<br>cor</td>
       <td><font class=cmd>correlate var1 var2 [var3 ...]</font><br>
	   Calculate correlation coefficients between all variables. Record limits same as regression.
	   <br><font class=limit>** if correlation is undefined a floating point error will be generated</font>
           <br>Specify design: <font class=cmd>set table design=line[box][filled][shaded][...] </font>

</td>
</tr>

<tr><td colspan=2 class=cmdgroup><a name="tablegrp"></a><a href=#top>Top</a> Tables
  </td></tr>
  
<tr valign=top>
       <td><a name=freq><A HREF="freq.htm">freq</a></a><br><a name=fre>fre</a></td>
       <td><font class=cmd>freq  <i>variable<sub>1</sub></i> [variable<sub>2</sub> variable<sub>3</sub> ...] [/options] </font><br>
	   Frequency distribution for each variable. 
          <br>&nbsp;<font class=small>(Alternative to <font class=cmd>Freq</font>:  <font class=cmd>Tables ..../F</font>
            or for counts only <a href="#stattab"><font class=cmd>Stattables</font></a>, e.g. <font class=cmd>Stab variable<sub>1</sub></font></font>
           <ul>options:
		   <li>/M include observations with missing data (.) in each variable
           <li>/NM Records with missing in any variable are excluded. 
           <li>/CP Add Cumulative percentage
           <li>/C Add percentage  		   
           <li>/CI Include confidence interval 
		   <br>CI is based on the proportion of all observations in each row (Altman et al. Statistics with confidence, London, BMJ books. ISBN 0 7279 1375 1, 2nd edition,2005, p 47) 
           <li>/D1 /D0: Use one or zero decimals for the percentages, default is 2
		   </ul>
          <br>Specify design: <font class=cmd>set table design freq=line[box][filled][shaded][...] </font>

<br><br>Notice you can obtain a graph of CI for several variables with <a href="#ciplot">CIPLOT</a>
	   </td>
</tr>


<tr valign=top>
       <td><a name="tab"></a><a name="table"></a><a name="tables"></a><A HREF="tables.htm">tables<br>tab</a></td> 
       <td><font class=cmd>tables <i>variable<sub>1</sub></i> [variable<sub>2</sub> variable<sub>3</sub> ...][/options]</font><br>          
	   The tables (brief: tab) command shows frequency or cross tables for the variables chosen. 

<ul>         <h4>Default table without options:     </h4>
         <li>Type<ul><li>one variable: frequency table. <li>Two variables: crosstable. 
             <li>3+ : First two variables stratified by remaining variables</Ul>
         <li>Sorting depends on table type. 
          <ul><li>tables with epidemiological estimation (Odds Ratio, RR or outbreak table): Descending on value
              <li>All other tables: increasing on value. 
        <li>Only counts are shown. To add estimates and/or percentages see options below.
         </ul>
	   <h4>With user specified <b>options</b> many aspects can be controlled: </h4>

         <li>Specify desired type of table : 
           <ul>
           <li>Frequency tables:  /F    <a href=#fre>see freq</a>  
            <br>&nbsp;&nbsp;&nbsp;<font class=small>(/F overrules other options)</font>
           <li>There are three types of "First variable" against all other varibles:
           <ul><li>Outbreak analysis:  /OA Attack rates and RR with optional /CI: 95% CI for attack rate <a href="#epicurve">See epicurve</a>
           <li>Case-Control table: /CC Odds ratio and 95% CI
           <li>General: /FV: (now limited)
           </ul>
           <li>Summary table of N and selected statistics: /S  (Relevant with more than one strafied table) 
           </ul>
 
<br>
	   <li> Percentages and missing: 
           <ul>

           <li>Crosstables: Row Column Total percentage: /R  /C /TP    
               <li>Frequency tables: cumulative percentage: /CP Row: /R
            <li>Number of decimals in percentages: /D0 /D1 /D2
	    <li>Place each type of percentage in single column: /PCT 
<br><font class=small>(Without /PCT all chosen percentages are written in the same column)</font>
<li> /M: include missing (.) or defined missing values in tables. 
           </ul>
	   <li>Estimation and testing:<ul>
            <li>/T:Chi<sup><font class=small>2</font></sup> 
			<li>/EX: Exact test 
            <li>/GAM: Goodmann & Kruskals gamma 
			<li>/ADV: extended and advanced tests
            <li>/OA Outbreak table with attack rates (cohort assumption) /CI: add Confidence Interval to estimates (outbreak tables)
            <li>/CI: 95% CI in frequency tables
			<br>CI gives the CI for the proportion of all observations in each row 
			<br><font class=small>(Altman et al. Statistics with confidence, London, BMJ books. ISBN 0 7279 1375 1, 2nd edition,2005, p 47) </font>
           </ul>
           <li>Epidemiological tables (2x2 table): See also options /OA /CC /FV  
           <ul><li>Estimation: /RR : Risk Ratio /O : Odds Ratio 
            <li>Default: highest value of variables considered exposure and case. 
           <li>/SA: Reverse outcome and exposure to take low value, <br>e.g. case=0 and exposure=0 (when coded 0 & 1 ). See sorting below.            
            <br>&nbsp;<font class=small>(Notice Odds Ratios are calculated as Epi6 MLE estimates)
            <br>&nbsp;<font class=limit>Estimates can be imprecise</font> with small number of observations.
                It is always the responsibility of the user to ensure if there is a "sparse data" problem in an analysis by looking at the stratified tables</font>

           </ul>
           <li>Sorting
           <ul><li>Indicate by /Sxxx where the x indicate:
           <br> R:row  C:Column A:Ascending D:Descending T:Total L:label (else numerical)
           <li> Accepted combinations: <ul>
                 <li>On value of category for Row and Column: /SA /SD
                 <li>On label (text sort) for row and column:  /SLA, /SLD
                 <li>Row and/or Column Totals: /SRAT, /SCAT, /SRDT, /SCDT
	   <li> Indicate specific column or row: /SRD=x, /SCD=x, /SRA=x, /SCA=x (e.g. /sca=2)
           <li> For string variables use "label" sorting, e.g. /SLA /SLD
           <li> Frequency tables: /SA /SD /SLA /SLD /SRAT /SRDT 
           </ul>           </ul>
           <br>  

          <li>Content and specification table : 
           <ul>
           <li> Hide tables: /Q: all /NT:subtables. /NC: unstratified (crude) table
           <li> /OBS: show observations as 2x2 table in outbreak and summary tables
           <li> /W=variable: Use number of observations in the variable as frequency weight 
           <li>metadata:<ul>
                <li>value labels:
			<br>/v : show only values 
                	<br>/vl: show values and value labels
                <li>Variable labels
                     <br>/vn: show variable name
                     <br>/vnl: show variable name and label 
                </ul>
           </ul>

<br>
          <li>Specify design:<ul>
          <li><font class=cmd>set table design=line[box][filled][shaded][...] </font>
          <li>Specify design summary table: <font class=cmd>set table design summary=line[box][filled][shaded][...] </font>
          <li>See also <a href=#settables>other set</a>
          </ul>
<br>
<li>Notes: Several result variables are saved, including the table: try <font class=cmd>result</font> to see names.
          <br><font class=limit>Match</font> removed (try: tab disease outcome matchvar)

	</td>
</tr>

<tr valign=top>
       <td><a name="collapse"></a><a name="stattables"></a><a name="stab"></a><a name="stattab"></a><A HREF="stattables.htm">stattables</a></a><br>stab</td>
       <td><font class=cmd>stattables "by variables" /options   /statistics</font><br>
	   Show a collapsed table with summary statistics for all combinations of "by variables" <br>
           options: 
            <br><font class=cmd>/close</font> : close current data and use summary data set instead <font class=limit>Note !! any unsaved data will be lost</font>  
            <br><font class=cmd>/save="filename"</font>  Save the summary table to a new file 
            <br><font class=cmd> /m</font> Include observations where byvariables have missing values 
            <br><font class=cmd> /q</font> Hide table
           <br>Statistics:
           <br><font class=cmd>/mean /SD /max  /min  /p5 /p10 /p25 /p50 /p75 /p90 /p95 /p99 /sum</font>
           <br>short forms, will show (contents): 
            <br><font class=cmd>/des</font>  (min median max)
            <br><font class=cmd>/iqr</font> (p25 p75)
            <br><font class=cmd>/idr</font> (p10 p90)
            <br><font class=cmd>/isr</font>  (p5 p95)
            <!-- <br><font class=cmd>/mci</font>  (mean +/- 1.96*sqrt(sd/n) = 95% Confidence Interval) -->
            <br><font class=cmd>/mv</font>   (counts of defined missing values and blanks)<br>
           <br>Example<font class=cmd>Stattab sex agegrp /Mean="weight height" /Des="weight,height"</font>
            <br>notice: variable lists can be separated by space or comma
           <br>Specify design: <font class=cmd>set table design=line[box][filled][shaded][...] </font>
</td>
</tr>

<tr valign=top>
       <td><a name=settables></a> set parameters for Tables</td><td>
       All tables:<br>
       <font class=cmd>set table design=[stat][system][freq][summary]=line[box][filled][shaded][system]... </font> (Design of tables)<br>
       Tables with percentages (options: /r /c /to /pct)<br> 
       <font class=cmd>set table percent format col="P1{}"</font> &nbsp;&nbsp;&nbsp;&nbsp;(Col Percents format, e.g. "P2  %"<br>
       <font class=cmd>set table percent format row="P1()"</font> &nbsp;&nbsp;&nbsp;&nbsp;(Row Percents format, e.g. "P0[]"<br>
       <font class=cmd>set table percent format total="P0[]"</font>&nbsp;&nbsp;&nbsp;&nbsp;(Row Percents format, e.g. "P0[]"<br>
       <font class=cmd>set table percent header="%" </font> (Contents of column header for percents)<br>
       Statistics:
	  <br>Specify confidence interval text: 
          <br><font class=cmd>set TABLE CI FORMAT [HEADER]="()-"</font>
          <br><font class=cmd>set TABLE CI HEADER="(95% CI)"</font>
   </td>
</tr>

<tr><td colspan=2 class=cmdgroup><a name=graph></a><a name="graphgrp"></a><a href=#top>Top</a> Basic graphs
  </td></tr>
<tr valign=top>
       <td><a name=bar></a>bar</td>
       <td><font class=cmd>bar <i>variable1</i> [/by=...]</font><br>
	   vertical bar plot of a single field
        <br>A bar graph shows counts of the given variable with a categorical x axis. Only values included in
         the variable will be shown. Bars are centered at each tick mark, and value labels (if defined) are
         shown. Compare with definition of <font class=cmd>histogram</font
         <br>Options:
	 <br>/PCT : use percentages instead of counts on Y axis.
         
	   </td>
</tr>

<tr valign=top>
       <td><a name=histogram></a><a name=his></a>histogram<br>his</td>
       <td><font class=cmd>histogram <i>variable1</i></font>[/xmin /xmax /xinc] [/by=...]<br>
	   histogram plot of a single field<br>
        <br>A histogram shows counts of the given variable with a numerical x axis. Each point is started at 
            the tick mark. Compare with definition at <font class=cmd>bar</font
         <br>/by=varname: will technically show a bar chart by another variable - check axis
	 <br>/PCT : use percentages instead of counts on Y axis.
        <br><font class=limit>Histogram's with date or float variables can be incorrect in some instances</font>
     </td>
</tr>

<tr valign=top>
       <td><a name=boxplot></a><a name=box></a>boxplot</td>
       <td><font class=cmd>boxplot <i>variable1</i></font> [/out] [/by=...] [/R] [/P1090]<br>
	   Box and whisker plot of field. The box shows interquartile range (25-75) with median highlighted. 
           <br> Whiskers cover the interval from (p25- 1.5* interquartile range) to (p75+1.5*interquartile range),
            <br>&nbsp;&nbsp;&nbsp;&nbsp;<font class=small>(But only if a data value is present, otherwise the nearest inside value is found</font>
           <br>With options, the whiskers can instead:  
           <br> /P1090 Length of whiskers are at 10 and 90 percentiles
           <br> /R Length of whiskers are at minimum and maximum of data            
           <br>	/out will show all outliers outside end of whiskers with a circle for each observation
           <br> /by=varname show one box for each value of varname
           <br> If "/by" boxes overlap, then increase size x. E.g. <font class=cmd>set graph size x = 600</font>
	   </td>
</tr>

<tr valign=top>
       <td><a name=line></a>line</td>
       <td><font class=cmd>line <i>xvar yvar</i> [yvar2] [yvar3 ...] [/by=...]</font><br>
	   line plot of yvar against xvar; multiple y variables may be plotted against xvar<br>
	   - <i>line xvar</i> will give a frequency polygon for xvar
    </td>
</tr>

<tr valign=top>
       <td><a name=xyplot></a><a name=scatter></a><a name=sca></a>scatter<br>sca</td>
       <td><font class=cmd>scatter xvar <i>yvar1</i> [yvar2 ...] [/by=...]</font><br>
	   scatter plot of yvar against xvar; multiply y variables may be plotted against xvar<br>
           With /BY: a plot of xvar by yvar1 will be made for each value of "By variable"
   </td>
</tr>

<tr valign=top>
       <td><a name=dotplot></a><a name=dot></a>dotplot</td>
       <td><font class=cmd>dotplot variable [/by=group variable] [/options]</font><br>
	Dotplot shows one dot per observation. A small displacement is added to the value, such that 
        all observations can be seen. If overlap between groups happen, then extend width of graph
        by e.g. <font class=cmd>set graph size x=600</font>. <br>
       The variable chosen is used as Y-axis<br>
        Options:<br>
        /c: Center dots instead of left align
        /M : Include missing values in the group variable
        /DI : Value for x-separation of dots. Default is /DI=0.015. To separate more try, e.g. /DI=0.045
        <br>Most standard <a name="#graphoption">graph options</a> apply

  </td>
</tr>

<tr valign=top>
       <td><a name=probit></a><a name=cdfplot></a>cdfplot</td>
       <td><font class=cmd>cdfplot variable [/options]</font><br>
	CDFplot shows a scatter plot of cumulated percentage points (counts) with variable used as X-axis<br>
        Options:
        <br>/P: Calculate and show a probit diagram instead. 
        <br>Probits are calculated as inverse normal of halfway points for cumulative percentage on x axis
        <br>/All: Do not aggregate on X axis values. Use this with float variables or when you wish to see all points.
        <br>Most standard <a name="#graphoption">graph options</a> apply
  </td>
</tr>

<tr valign=top>
       <td><a name=ciplot></a>ciplot</td>
       <td><font class=cmd>ciplot variables /by=outcome [/options]</font><br>
	CIplot shows a plot of proportions and 95% Confidence intervals for a given value among all variables. <br>
	This is a graphical replicate of Confidence intervals for frequency tables with option /CI <br>
        The variable indicated at /by=var is used to calculate the proportion. The highest value in this variable is used as indicator value, unless option /o is used.
        <br>/by=Varname    <b>must</b>be included  
        Options:
        <br>/NCI : remove coloured line indicating crude confidence interval 
        <br>/NL : Do not show vertical separation dotted lines btw. by variables 
        <br>/O=x : Use the value x to indicate outcome value. 
        <br>/NT : do not show summary table
        <br>/NM Records with missing in any variable are excluded. 
        <br>Most other standard <a name="#graphoption">graph options</a> apply. 
<br>Colour settings are not fully in control yet 
<br><font class=small>Notice that <font class=limit>only</font> observations must have a valid value for all included variables.
Therefore all estimates are based on the same observations, but number of observations depend on included variables. Use /N to see in the graph the number of observations</font>
  </td>
</tr>

<tr valign=top>
       <td><a name=epicurve></a>epicurve</td>
       <td><font class=cmd>epicurve time outcome [/by=group] [/options]</font><br>
	Epicurve shows development in a possible epidemic as stacked bars on each day from start to end of data. 
	<br>Example: <font class=cmd>epicurve dayonset case floor /legend /xa /frame  /tab </font><br>
        Options:
        <br>/nt: Do not show a table of number of cases, min and max date of outcome
        <br>/Yinc : change default y ticks from 1
        <br>/xa: alternate label on x axis
        <br><font class=limit>EpiCurve shows bars centered on tick mark, not from tick mark</font>  
  	<br>Most other standard <a name="#graphoption">graph options</a> apply
        <br><font class=limit>Result variable naming</font> varies with coding of "by" variables
  </td>
</tr>



<tr valign=top>
       <td><a name=pie></a>pie</td>
       <td><font class=cmd>pie var1</font><br>
	   pie chart of frequencies of the values of <i>var1</i>
        <br><font class=limit>Percentages</font> can be incorrect in some instances
	   </td>
</tr>

<tr valign=top>
       <td><a name=erasepng></a>erasepng</td>
       <td><font class=cmd>erasepng [/noconfirm] [/all]</font><br>
	   Erases graph*.png files in current folder shown on statusbar left side. Confirm each erase.
          <br>/all      includes ALL files of type png (*.png) regardless of name 
          <br>/noconfirm <font class=limit>NOTE: </font> deletes without confirmation
          <br>/d   deletes all graph*.png created earlier than current date
	   </td>
</tr>

<tr valign=top>
       <td><a name="graphoption"></a>Common Graph options</td>
       <td><font class=cmd> /save="file.png[.wmf][.bmp]" /xlabel="variable" <br>/text="x,y,text,box" /ti="title" /sub="subtitle" /noedit /nolegend</font><br>
           <ul>Overall<ul>
           <li>/by=varname: Group the graph by the indicated varname (scatter, line, box, bar, dotplot)
           <li>/edit : manual specification of a large number of graph options 
           <li>/q : do not show graph (useful for just saving a graph) 
           <li>/save="  " : save file with that name and type - default is png with name of current time. File cannot exist,
           <li>/replace : replace file if existing (used with /save). 
           <li>/xlabel=variable : Use contents of variable as label along x-axis. Works only in SPC charts
  <li>Show labels or values: /v&nbsp;(include&nbsp;values) /vv&nbsp;(values&nbsp;only) 
  <br>&nbsp;&nbsp;/vn&nbsp;(name&nbsp;+&nbsp;label) /vnn&nbsp;(only&nbsp;name)

           </ul>
<br>

           <li>Text and content of graph: <ul>
           <li>/legend : Show legend
           <li>/ti="....." Use text as title
           <li>/sub="....." Use text as subtitle
           <li>/fn="....." Use text as footnote
           <li>/xtext="....."  Use text as description below the X axis<br>
           <li>/ytext="....."  Use text as description to the left of the Y axis<br>
           <li>/n Show number of observations in upper left corner of graph
           </ul>
<br>
           <li>reference lines, text and values:
           <li>/VGRID /HGRID : Show vertical or horisontal lines inside graph area 
           <li>/FRAME : Frame the graph area 
<br><font class=small>Text and lines can be used several times in the same graph:</font><ul>
           <li>/xline=  /yline= Add reference line __ at x or y value, e.g. /xline=12 /yline=500
           <li>/xlined=  /ylined= Add reference dotted line ..... at x or y value, e.g. /xlined=12 /ylined=500
	   <li>/Text="x,y,text,box": add text at x,y in pixels from top left. Box= 1:yes 0:no. E.g. /text="120,50,my text,1" 
	   <li>/yvalue: add box with counts (works only in SPC graphs)
           </ul> 
<br>
           <li>Axis : <ul> 
           <li>/xmin   /xmax   /ymin   /ymax  sets axis scales
           <li>/xinc  /yinc defines increase of tick marks on axia. (Scatter, line and SPC plots)
           <li>/noxtick /noytick  hides tickmarks on axes
           <li>/X90 /X45 X-axis unit texts at 90 or 45 degrees instead of horisontal 
           <li>/XA : alternating X axis label texts
           <li>/YLOG  /XLOG : use logaritmic scale on axis 
           <li>/NoXTICK /NOYTICK: hide tick marks
	   <li>/XINV /YINV: reverse axis from high to low values
	   <li>/XHIDE /YHIDE: Hide axis
           </ul> 
<br>
           <li>color setting:<br><font class=cmd>Set Graph Colour="1234567890"</font><br>
           Use this to select colour sequence for graphs
           <br>Indicate 10 numbers each from 0 to 9. Colour codes are:<br>
           Red, Blue, Black, Green, Yellow, White, SkyBlue, Fuchsia, Gray , Aqua;

<br>
           <li>Colour for graph elements<br><font class=cmd>Set Graph Colour Text="2133"</font><br>
           Defines colour for "tfxxxyyyb" where t:Titles f:footnote axis: xxx yyy (Axis,tickmarks,texts) b:other, e.g. text boxes<br>
           <br>Indicate 9 colour codes from 0 to 9. Default is: "213333333"
           <br>Note: White (6) can be used to hide a text element, but it is more efficient to set to " ", e.g. titles or footnote.
           <br>/bw: all colour in black and white
<br>
           <li>symbol setting: (line, scatter and pareto) <br><font class=cmd>Set Graph Symbol="1234567890"</font><br>
           Use this to select symbols for graphs containing symbols<br>
           <br>Indicate 10 numbers each from 0 to 9. Sequence codes are:<br>
           Circle, Upwards Triangle, Downwards Triangle, Cross, Star, Diamond, Left triangle, Right triangle, square, Small Dot 
           <br>The "Small Dot (9)" can be shown to minimise or hide the symbol.
</ul>
	   </td>
</tr>
<tr valign=top>
       <td> set parameters for Graphs</td>
       <td><font class=cmd>set graph savetype=png[wmf][bmp]</font> (Which type of file to save)<br>
           <font class=cmd>set graph clipboard=on[off] </font>   (copy graph to clipboard after creation)<br>
	   <font class=cmd>set graph footnote=text</font>   (footnote for graphs - default: EpiData Analysis Graph)<br>
	   <font class=cmd>set graph filename show=off[on]</font>   (show name of file below the graph) <br>       
	   <font class=cmd>set graph filename folder=off[on]</font>   (Include folder in graph file name)<br>       
           <font class=cmd>set graph size x=value </font>   (width of graph, e.g. value=600)<br>
           <font class=cmd>set graph size y=value </font>   (height of graph, e.g. value=400)<br>
           <font class=cmd>set graph font size=value </font>   (font size - default 10. Titles are scaled relatively)
           <font class=cmd>set graph colour="1234567890" </font>  See above
           <font class=cmd>set graph colour text="2133" </font>  See above
           <font class=cmd>set graph symbol="1234567890" </font>  See above
	   </td>
</tr>


<tr><td colspan=2 class=cmdgroup><a name="selectgrp"></a><a href=#top>Top</a> Select observations
  </td></tr>

<tr valign=top>
       <td><a name=select>select</a> if<br>select</td>
       <td><font class=cmd>select [logical expression]</font><br>
	   work with selected records<br>
	   - multiple select commands are joined by <b>and</b><br>
	   - without parameters, clears all select commands. 
           <br>Current select will be shown when running analysis commands
	   <br><font class=limit>Warning: </font>Be careful when you select on float variables, e.g. v1 > 3.1 
           <br>To test this use "browse ...."  Make sure program handles missing data as you expect</font>
           <br><font class=limit>Note: </font> String variables are compared excluding trailing blanks
           <br>To exclude leading blanks use trim function: 
           <br>e.g. <font class=cmd>select trim(User) = "Jorge"</font> or <font class=cmd>select trim(upper(User)) = "JORGE"</font>
           <br><font class=cmd>Select</font> cannot be used with <a href="#update">UPDATE</a>
</td></tr>

<tr valign=top>
       <td>temporary<br>select</td>
       <td><i>follow another command with </i><font class=cmd>if (logical_expression)</font><br>
	   processes the data file using only those records for which <i>logical_expression</i> is true<br>
	   - for complex logical expressions, use parentheses; they are optional for simple expressions
            <br>Note also: Options must be placed <font class=limit><u>before</u> </font><font class=cmd>if</font>
	   <br><font class=limit>Always control what happens with missing data and with float variables with many decimals</font>
           <br><font class=limit>Note:</font>  String variables are compared right trimmed, that is without trailing blanks. 
            <br> e.g "Lion&nbsp;" is the same as "Lion", but not the same as "&nbsp;&nbsp;Lion". <br>But make sure upper and lower case works correctly !!!
           <br>You can query by asking the user. E.g. "count if sex = ?Write value 1 2?"
           <br>Current if and select will be shown when running analysis commands
</td></tr>

<tr><td colspan=2 class=cmdgroup><a name=spc></a><a name="spcgraph"></a>
<a href=#top>Top</a> Statistical Process Control</td></tr>

<tr valign=top>
       <td><a name=ichart></a>ichart</td>
       <td><font class=cmd>ichart time measurement [/options]</font><br>
	SPC: I-chart showing overall mean, control limits and actual measurements 
	variables "time" used for X-axis and "measurement" indicating finding (can be 
	continous measurement or count) at that time 
	<br>Options: <a name="#spcoption">SPC options</a> and <a name="#graphoption">general graph options</a>
  </td>
</tr>

<tr valign=top>
       <td><a name=pchart></a>pchart</td>
       <td><font class=cmd>pchart time count total  [/options]</font><br>
	   SPC: A P-chart is created with the proportion of count/total for time value. <br>
	   time variable used as x-axis<br>
           The chart includes overall mean, control limits and proportions<br>
           P-chart is a process control type graph
	<br>Options: <a name="#spcoption">SPC options</a> and <a name="#graphoption">general graph options</a>
 </td>
</tr>

<tr valign=top>
       <td><a name=runchart></a>runchart</td>
       <td><font class=cmd>runchart time count  [/options]</font><br>
	   SPC: A runchart shows the median of count and the actual counts.<br>
	   time variable used as x-axis<br>
           The chart includes median and indication of tests of special cause<br>
           Runchart is a process control type graph. 
           <br>Runs and tests adapted in v2 (ref:       )
	<br>Options: <a name="#spcoption">SPC options</a> and <a name="#graphoption">general graph options</a>
 </td>
</tr>


<tr valign=top>
       <td><a name=pareto></a>pareto</td>
       <td><font class=cmd>pareto groupvar [/options]</font><br>
	   SPC: A Paretodiagram shows a bar chart of the variable, where columns are sorted
           in descending order of frequency. Superimposed is a line showing cumulative percentages.<br>
           Counts are shown with the left Y-axis and Cumulative Percentage with the right Y-axis.
	<br>Options: <a name="#graphoption">general graph options</a>
 </td>
</tr>

<!--
<tr valign=top>
       <td><a name=xbar></a>xbar and r chart</td>
       <td><font class=cmd>xchart time count  [/options]</font><br>
<font class=limit>Experimental graph</font> in development. Do not use for analysis<br>
	   SPC: A xbar shows two charts at the same time. Implementation of this is ongoing
           time of finalisation unknown. May show a Runchart and Ichart at the same time now
	<br>Options: <a name="#spcoption">SPC options</a> and <a name="#graphoption">general graph options</a>
</td>          
</tr>
-->
<!--
<tr valign=top>
       <td>xbar</td>
       <td><font class=cmd>xchart subgroup measurement</font><br>
		An X-bar chart is created with mean value of measurement for each subgroup
		subgroup is non-unique sequential or date values used for grouping individual 
		measurements of different samples or observations observed at the same time. 
		Subgroup values serves as X-axis. <br>
		Xbar-chart is a process control type graph
<br>It is displayed together with either: 
<br>Range chart which indicates the range between Max and Min measurements within 
each subgroup
<br>or Sigma chart which indicates the process variation using a weighted method. 
(Xbar and S should always be used when subgroup size >10)
</td>
</tr>
-->
<tr valign=top>
       <td><a name=spcoption></a>options for process control charts</td>
       <td><font class=cmd> [/b=value /t /neglcl /nt /q </font><br>
	   /B (one or more) will split the chart at that observation (-s). 
           <br>&nbsp;&nbsp;Value can be date "dd/mm/yyyy" or "mm/dd/yyyy" of same format as the time field. <br>
           /t: Perform tests (see below) <br>
           /tab: Add table off counts below graph
           /nt: Hide test table results (but mark in graph) <br>
           /neglcl: show negative as well as positive lower control limit values<br>
           /xlabel=var  : Variable contains the labels to show at the X-axis. <br>
           /exv=y       : Exclude all points with Y-value => to value (here x) <br>
           /exp=x1      : Exlude observation number x1 (e.g. 6) <br>
           /exz         : Exclude all observations with Y= zero <br>
           /nci         : Exclude text below X-axis showing central values
           Most sandard <a name="#graphoption">graph options</a> apply
       </td>
</tr>

</tr>
<tr valign=top>
       <td>Principles and tests</td>
       <td>
Many principles exist for SPC graph testing. EpiData Analysis implements these principles:
<br>SPC charts use a time variable along the X-axis and the observation as the Y-value.
I- and P- Charts have control limits calculated as center line ± 3 Standard Deviations (3 Sigma.).
The graphs do not demand a specific number of observations. The assumption for using tests for special variation is that btw. 20 and 30 observations are included in each portion (break). 
With fewer observations the chance of a Type II error is larger (overlooking an actual special cause) nad with larger numbers of observations the chance of a type I error is larger (false positive test)
<br>In SPC - Statistical Process Control Charts: <font class=limit>Control Limits are NOT the same as Confidence limits</font>
<hr>
<ul>Data types
<li>Run-Chart: Counts of observations with centerline (median)
<li>I-Chart:        Counts of observations with control limits and centerline (mean)
<li>P-Chart:       Proportion of observations with control limits and centerline (mean)
</ul>
<hr>
<ul>Tests indicate signs of "Special Variation" in the data.  Criteria depend on the type of SPC Chart.
<li>Type 1: 
<ul><li>Run chart:  Total number of runs and limits for expected number of runs. Points on median ignored in runs. Expected numbers based on a standard table. 
A run is defined as a sequence of one or more numbers on the same side of the centerline. V2 adaptation: Points <u>on</u> the centerline are disregarded.
<li>I-Chart and P-Chart: Special Variation occurs for each observation outside the control limits.
</ul>
<li>Type 2:
<br>In Run-, I- and P-charts: Eight or more points in sequence on the same side of centerline (shift in the  process). Values on center line are excluded from the count. 
The test counts number of sequences of eight points.
<li>Type 3:
<br>In Run-, I- and P-charts: Six or more points decreasing or increasing in sequence (Trend). Sequential values of same size count as one. 
The test counts number of sequences of six points.
 </ul>
</td>
</tr>



<tr><td colspan=2 class=cmdgroup><a name="savegrp"></a><a href=#top>Top</a> Save & Clear output
  </td></tr>
<tr valign=top>
       <td><a name=cls></a>cls</td>
       <td><font class=cmd>cls</font><br>
	   clears the output screen
           <br>notice F12 will do the same and can be used during execution if speed slows down </td>
</tr>
<tr valign=top>
       <td><a name=output></a><a name=log></a><a name=logopen></a>logopen</td>
       <td><font class=cmd>logopen [filename[.{html|txt}]] [/close] [/append] </font><br>
	   start a log file<br>
	   - without parameters, the open file dialogue is started
           <br>/Close will close an open logfile. 
           <br>/Append adds to existing file
           <br>/replace replace existing logfile</td>

</tr>

<tr valign=top>
       <td><a name=logclose></a>logclose</td>
       <td><font class=cmd>logclose</font><br>
	   close the current log file</td>
</tr>

<tr><td colspan=2 class=cmdgroup><a name="viewgrp"></a><a href=#top>Top</a> View data
  </td></tr>
<tr valign=top>
       <td><a name=browse></a>browse</td>
       <td><font class=cmd>browse [<i>variable1 </i> [variable2 ...]]</font><br>
	   browse values in a spreadsheet for all variables listed<br>
	   - without parameters, browse all variables
	<br><b>Note that browse is much faster than list<b>
        <br>Note that the browse window closes when you move away from "browse", unless you allow the browser to be open by: 
      then: <font class=cmd>Set display databrowser=on</font>
 <br>The same way "minimise" browse is equal to "close", unless you have : <font class=cmd>Set display databrowser=on</font>
<br>But remember that the browse window can be quickly opened at any time by F6 key.
        <br>Notice use of right click on form (sorting, copy to clipboard) 
</td>
</tr>
<tr valign=top>
       <td><a name=list></a>list</td>
       <td><font class=cmd>list [<i>variable1 </i> [variable2 ...]] [/no] [/v /vl] [if ... ]</font><br>
	   show values on the screen for all variables listed, with one record per line and no limit to the width of the display<br>
	   - without parameters, list all variables. Values are shown - not labels.
        <br>/NO : do not show record (observation) numbers 
        <br>/v /vl: control whether values or labels are shown (or both)
  	<br>Note that browse is much faster than list. The choice of font might make list display incorrect
        <br><font class=limit>Select or If</font> the sequence is  within current select or "if". if you use list with temporary if, the number is not the same as recnumber
</td>
</tr>
<tr valign=top>
       <td><a name=Update></a>Update</td>
       <td><font class=cmd>Update [<i>variable1 </i> [variable2 ...]] [/id=variable]</font><br>
	   Allows grid editing of data - without parameters, works on all variables
  	<br><font class=cmd>/id=variable</font> Indicate variable containing unique id 
        <br>Update cannot be combined with <font class=cmd>SELECT</font>
        <br>Notice use of right click on update form (sorting, select id, copy to clipboard) </td>
</td>
</tr>

<tr><td colspan=2 class=cmdgroup><a name="gengrp"></a><a href=#top>Top</a> Generate/change variables
  </td></tr>
<tr valign=top>
       <td><a name=define></a>define</td>
       <td><font class=cmd>define <i>var1</i> fieldtype [cumulative|global]</font><br>
	   create a new variable based on an EpiData fieldtype (###, ___, &lt;Y&gt;, &lt;AAAAAA&gt;, or valid dateformat)<br>
	   - <i>var1</i> will initially be missing in all records<br>
	   - <font class=limit><i>cumulative</i> variables </font>retain their values from one record to the next - not functioning<br>
	   - <i>global</i> variables retain their values following a <i>close</i> command and are like constants (only one value)</td>
</tr>
<tr valign=top>
       <td><a name=gen></a>gen</td>
       <td><font class=cmd>gen <i>var1</i> = expression | resultvar</font><br>
	   create a new numeric variable based on the expression, or equal to a constant from a result variable<br>
	   - equivalent to define and let, with the variable type implied by the expression<br>
	   - if the result of <i>expression</i> is boolean, <i>variable1</i> will be 0 (FALSE) or 1 (TRUE)<br>
	   - Result variables are created by some commands, e.g. <b>means</b> and <b>describe</b>
           <br> IF the user specifies type, that type of variable is generated (examples): 
           <br><!--<font class=cmd>gen string of length 10 <i>var1</i> = expression </font>  --> <font class=cmd>gen s(10) <i>var1</i> = expression </font>
        <br><font class=cmd>gen d <i>var1</i> = expression </font>
        <br><!--<font class=cmd>gen integer <i>var1</i> = expression </font> --> <font class=cmd>gen i <i>var1</i> = expression </font>
        <br><!--<font class=cmd>gen float <i>var1</i> = expression </font> -->       <font class=cmd>gen f <i>var1</i> = expression </font>
        <br>Compare with values from other records: 
             <br>nbsp;nbsp; gen i age = (age - age[_n+1]) if id = id[_n+1]       
             <br>nbsp;nbsp; let bmidif = (bmi - bmi[_n-1]) if id = id[_n-1]     //-1 could be -4 +1 etc      
<font class=limit>Notice</font> that integer variables are maximum 4 digits. For larger integers use type float with zero decimals
	 
<br>Always verify generation of complex variables or logical statements. <br>e.g.  <font class=cmd>gen  .... if ... </font>with <br><font class=cmd>define ...<br>if ... then ... </font>.
        
</td></tr>

<tr valign=top>
       <td><a name=generate></a>generate</td>
       <td><font class=cmd>generate <i>value</i></font><br>
	   creates a new empty dataset with  <font class=cmd>value</font> records. E.g. for simulation or testing.<br>
	   - note the difference to <font class=cmd>gen </font> command, which creates variables. 
</tr>

<tr valign=top>
       <td><a name=if></a>if ... then</td>
       <td><font class=cmd>if (logical_expression) then [let] ... [else [let] ...]</font><br>
	   evaluates <i>logical_expression</i> for each record; the <i>else</i> clause is optional<br>
	   - for complex logical expressions, use parentheses; they are optional for simple expressions<br>
	   - some other commands might work, but only <i>let</i> is practical</td>
</tr>
<tr valign=top>
       <td><a name=let></a>let</td>
       <td><font class=cmd>[let] <i>var1</i>= expression | resultvar</font><br>
	   assign a value to an existing variable; the word <i>let</i> is optional<br>
	   - if the result of <i>expression</i> is boolean, <i>var1</i> will be 0 (FALSE) or 1 (TRUE)<br>
	   - only <b>means</b> and <b>describe</b> commands create result variables</td>
</tr>
<tr valign=top>
       <td><a name=recode></a>recode</td>
       <td><font class=cmd>recode <i>variable1</i> to <i>var2</i> values1 = newval1 [values2 = newval2 ...]</font><br>
	   create or change codes for subgroups of records<br> 
	   - <i>values1</i> takes one of three forms: a single value, a series of values separated by commas, or a range of consecutive values like <i>7-12</i> or "A"-"D"<br>
	   e.g.<font class=cmd>recode v1 to v2 lo-18.499=1 18.50-hi=2</font> values up to 18.50,but not 18.50 gets the value 1
          <br> e.g. recode x lo-3.00=1 3.0001-4.0000=4 4.0001-5.49000=5 5.5-hi=7 
          <br>- if <i>to var2</i> is omitted, <i>variable1</i> the original values will be lost.   
          <br><font class=cmd>recode <i>variable1</i> to <i>var2</i> by value</font> (Value must be integer > 0)<br>
            - the variable1 values will be recoded to numerical variable var2 with value label indicating the limits<br>
          E.g. <font class=cmd>recode age to agegroup by 10</font> to recode age variable to 10 year age groups.<br> 
            Note: define agegroup before recoding <font class=cmd>define agegrp ###</font><br>
	   Note: EpiData Analysis shows the if ... then and the <a href="#label">labelvalue</a> commands doing the recode
	   </font></td>
</tr>

<tr><td colspan=2 class=cmdgroup><a name="labelgrp"></a><a href=#Top>Top</a> Label data - also called metadata
</td></tr>
	

<tr valign=top>
       <td><a name=labeldata></a>labeldata</td>
       <td><font class=cmd>labeldata "text"</font><br>
	   Assign the descriptive text as a label for the data file.<br>
           An existing label will be replaced with the new one.<br>
           To keep the label you must save the data.
       </td>
</tr>

<tr valign=top>
       <td><a name=labelvar></a>label</td>
       <td><font class=cmd>label <i>var</i> "text"</font><br>
	   Assign the descriptive text as a label for the variable.<br>
           An existing variable label will be replaced with the new one.<br>
           To keep the variable label you must save the data.
       </td>
</tr>


<tr valign=top>
       <td><a name=labelvalue></a>labelvalue </td>
       <td><font class=cmd>labelvalue <i>var</i> /x="text with spaces" /y=text2 /z=text3 [/clear]</font><br>
	   Assign the descriptive text as a value label for the values (x y z)<br>
           /clear will remove any value not mentioned on the line
          <br>For several variables in sequence: labelvalue v1-v17 /1="Yes" /0="No"
          <br><font class=limit>Note !!!</font> 
            - If you change valuelabels for a variable, which shares labels with other variables
                   then the label is changed for all the variables !!!!</font>
<br>Shared valuelabels are defined as part of dataentry in EpiData Entry
<br>Note that valuelabels are automatically created by the command <a href=#recode>recode</a> 
      </td>
</tr>

<tr valign=top>
       <td><a name=missing></a><a name=missingvalue></a>missingvalue </td>
       <td><font class=cmd>missingvalue <i>var</i> [<i>var1-varx</i>] /x /y /z [/clear]</font><br>
	   Assign from 1 to 3 values as a defined missing value <br>
           /clear will remove any previous definition
          <br>For several variables in sequence: missingvalue v1-v17 /9
       </td>
</tr>


<tr><td colspan=2 class=cmdgroup><a name="stopgrp"></a><a href=#top>Top</a> Clean up -  stop
  </td></tr>

<tr valign=top>
       <td><a name=close></a>close</td>
       <td><font class=cmd>close</font><br>
	   stop using a dataset<br>
	   - all unsaved variables and changes to existing fields will be lost<br>
	   - global variables will remain in memory
	   </td>
</tr>
<tr valign=top>
       <td><a name=exit></a><a name=quit></a>quit or exit</td>
       <td><font class=cmd>quit</font><br>
           <font class=cmd>exit</font><br>
	   Exits from EpiData Analysis. Closes any open output file.  
           <br><font class=limit>NOTE: </font>To save data in memory before closing use the <a href=#savedata>savedata</a> command.
           <br>Automatic save of command history is done on exit. Filename defined by "set command history filename", default temp.pgm
           <br>If you write exit or quit in command prompt no confirmation question will be asked.
	   </td>
</tr>
<tr valign=top>
       <td><a name=savepgm></a>savepgm</td>
       <td><font class=cmd>savepgm filename[.pgm]</font><br>
	   saves recent commands in a program file<br>
	   - without a parameter, the save file dialogue is opened
         <br>Automatic save of command history is done on exit. Filename defined by "set command history filename", default temp.pgm
</td>

<tr valign=top>
       <td><a name=cls></a>clear output window</td>
       <td><font class=cmd>cls</font><br>
	   Clear the output screen with results - when output slows down press F12. 
           <br>F12 (=cls) can be used in the middle of other commands running.
</td>

</tr>

<tr valign=top>
       <td><a name=clh></a>clear command buffer</td>
       <td><font class=cmd>clh</font><br>
	   Clear the buffer of previous commands.
	   <br>- It is the same list shown when pressing F7, right click on "F7" window to clear
	   <br>Notice - set commands on history. See below.
</td>

</tr>

<tr><td colspan=2 class=cmdgroup><a name=set></a><a name="setgrp"></a><a href=#top>Top</a> Set parameters
  </td></tr>


<tr valign=top>
       <td>set</td>
       <td><font class=cmd>set [parameter=value]</font>
	   <br>Change the value of a EpiData "set" parameter<br>
	   - without parameters, provides a list of available parameters and their current values<br>
	   - Add the set definitions to the file Epidatastat.ini file to modify from default           
           <br>values can be a number, text or ON/OFF, see table below
	   <br>to see current value: <font class=cmd>set [parameter] = ?</font> e.g.: <font class=cmd>set echo = ?</font>
           <br>For set's with ON/OFF: <font class=cmd>set echo = off</font>---<font class=cmd>set echo = on</font>
</tr><tr><td></td><td>

<table cellspacing="0" border="1" frame="void" rules="rows">
<tr><td width=200><b>Option</b>	</td><td><b>Default Value</b></td><td>Comments or function</td>
<tr><td>BROWSER FONT SIZE</td><td>10</td><td>Font size in browser and update </td>
<tr><td>DEBUG LEVEL</td><td>0</td><td>Used for testing to write information from internal modules. When equal to 0, no information written </td>
<tr><td>DEBUG FILENAME</td><td>MODULETEST.LOG</td><td>Filename where debug information is written </td>
<tr><td>DISPLAY COMMAND HISTORY</td><td>OFF</td><td>Show the command history window (F7)</td>
<tr><td>DISPLAY COMMAND PROMPT</td><td>ON</td><td>Show command prompt </td>
<tr><td>DISPLAY COMMANDTREE</td><td>OFF</td><td>Show commandtree window (F2) </td>
<tr><td>DISPLAY DATABROWSER</td><td>OFF</td><td>Show databrowser when a datafile is open (F6) </td>
<tr><td>DISPLAY MAINMENU</td><td>ON</td><td>Show main menu </td>
<tr><td>DISPLAY TOOLBAR</td><td>ON</td><td>Show toolbar </td>
<tr><td>DISPLAY VARIABLES</td><td>OFF</td><td>Show variable window (F3) </td>
<tr><td>DISPLAY WORKTOOLBAR</td><td>ON</td><td>Show work toolbar </td>
<tr><td>ECHO</td><td>ON</td><td>When = on show results, off: "silent" </td>
<tr><td>EDITOR FONT SIZE</td><td>10</td><td>Font size in editor </td>
<tr><td>EDITOR PRINT INFO</td><td>ON</td><td>When printing from editor add footer </td>
<tr><td>GRAPH CLIPBOARD</td><td>ON</td><td>Copy graphs to clipboard </td>
<tr><td>GRAPH COLOUR</td><td>DEFAULT</td><td>Change colours, see <a href=#graphoption>Graph options</a> </td>
<tr><td>GRAPH FILENAME FOLDER</td><td>OFF</td><td>Add complete path to filename of saved graph files</td>
<tr><td>GRAPH FILENAME SHOW</td><td>OFF</td><td>Show the filename in output</td>
<tr><td>GRAPH FONT SIZE</td><td>10</td><td>Graph text font size </td>
<tr><td>GRAPH FOOTNOTE</td><td>EPIDATA ANALYSIS GRAPH</td><td>Which footnote, can be empty: "" </td>
<tr><td>GRAPH SAVETYPE</td><td>PNG</td><td>Alternatives to png format are wmf and bmp </td>
<tr><td>GRAPH SIZE X</td><td>600</td><td>width of graphs in pixels  </td>
<tr><td>GRAPH SIZE Y</td><td>300</td><td>height of graps in pixels </td>
<tr><td>GRAPH SYMBOL</td><td>DEFAULT</td><td>The type of symbol used, see <a href=#graphoption>Graph options</a> </td>
<tr><td>HISTORY COMMAND PGM</td><td>OFF</td><td>Add commands from pgm files to history. When off only the name of the pgm is shown </td>
<tr><td>HISTORY COMMENT</td><td>ON</td><td>Add comments when found in pgm files to history </td>
<tr><td>HISTORY NAME</td><td>TEMP</td><td>Name of file to use as autosave, when closing the programme. The previous three files will be saved, e.g. as temp3.pgm temp2.pgm temp1.pgm </td>
<tr><td>LANGUAGE</td><td>EN</td><td>Language file abbreviation</td>
<tr><td>OUTPUT FOLDER</td><td>..folder name...</td><td>Logfiles and graphs are saved here </td>
<tr><td>OUTPUT NAME</td><td>EAOUTPUT.HTM</td><td>Name of output files </td>
<tr><td>OUTPUT OPEN</td><td>ON</td><td>Open logfile automatically </td>
<tr><td>PRINT PREVIEW CM</td><td>ON</td><td>Use cm for measures when printing </td>
<tr><td>RANDOM SEED</td><td>9</td><td>Use as seed for random number generation </td>
<tr><td>RANDOM SIMULATIONS</td><td>500</td><td>Number of simulations </td>
<tr><td>READ DELETED</td><td>OFF</td><td>Read records marked for deletion </td>
<tr><td>RECODE INTERVAL </td><td>TEXT-</td><td>Marker to use in value labels with recode </td>
<tr><td>SAVEDATA FIRSTWORD</td><td>ON</td><td>Use filetype first word. WHen off Epi6 automatic naming will be used </td>
<tr><td>SHOW COMMAND</td><td>ON</td><td>show commands after execution </td>
<tr><td>SHOW ERROR</td><td>ON</td><td>Show errors </td>
<tr><td>SHOW INFO</td><td>ON</td><td>how information type feedback from commands </td>
<tr><td>SHOW RESULT</td><td>ON</td><td>Show results from commands </td>
<tr><td>SHOW SYSTEMINFO</td><td>OFF</td><td>Show extended information (test purpose) </td>
<tr><td>START PAGE</td><td>START.HTM</td><td>File to show when the programme starts (F8) </td>
<tr><td>STYLE SHEET</td><td>"folder name\EPIOUT.CSS"</td><td>Find extended definition of output etc. on www.epidata.dk/documentation.php
                <br>File containing the style sheet </td>
<tr><td>STYLE SHEET EXTERNAL</td><td>ON</td><td>In output files refer to css file. If off, then a copy of current css definitons will be copied to the logfile header. 
        <br>E.g. if you wish to copy the outfile to internet. </td>
<tr><td>TABLE CI FORMAT</td><td>()-</td><td>Delimiter  btw. lower and upper confidence bounds in tables </td>
<tr><td>TABLE CI HEADER</td><td>(95% CI)</td><td>Header for CI column in tables</td>
<tr><td>TABLE DESIGN</td><td>LINE</td><td>Output design type for crosstables </td>
<tr><td>TABLE DESIGN FREQ</td><td>LINE</td><td>Design for frequency tables </td>
<tr><td>TABLE DESIGN GRAPH</td><td>GRAPH</td><td>Design type for graps </td>
<tr><td>TABLE DESIGN STAT</td><td>LINE</td><td>Design for statistics output (e.g. means) </td>
<tr><td>TABLE DESIGN SYSTEM</td><td>SYSTEM</td><td>Raw table desing </td>
<tr><td>TABLE PERCENT FORMAT COL</td><td>P1()</td><td>Default format column percentages</td>
<tr><td>TABLE PERCENT FORMAT ROW</td><td>P1()</td><td>...row percentages </td>
<tr><td>TABLE PERCENT FORMAT TOTAL</td><td>P1[]</td><td>...total percentage </td>
<tr><td>TABLE PERCENT HEADER</td><td>%</td><td>Percentage headers </td>
<tr><td>TABLE PERCENT HEADER </td><td>COL%</td><td> </td>
<tr><td>TABLE PERCENT HEADER </td><td>ROW%</td><td> </td>
<tr><td>TABLE PERCENT HEADER </td><td>TOTAL%</td><td> </td>
<tr><td>VAR GENERATE TYPE</td><td>F</td><td>Default varible type with <a href=#gen>Gen </a> command </td>
<tr><td>VIEWER FONT CHARSET</td><td>ISO-8859-1</td><td>Character set for output window </td>
<tr><td>VIEWER FONT NAME</td><td>VERDANA,COURIER</td><td>Must at least contain one proportional and one fixed type font </td>
<tr><td>VIEWER FONT SIZE</td><td>10</td><td>Font size for output window </td>
<tr><td>WINDOW FONT SIZE</td><td>10</td><td>Font size for other windows (prompt, variable, history, commands) </td>
</table>
</tr>

<tr><td colspan=2 class=cmdgroup><a name="infogrp"></a><a href=#top>Top</a> Information
  </td></tr>

<tr valign=top>
       <td><a name=page></a>newpage</td>
       <td><font class=cmd>newpage</font><br>
	   When printing the output force top of page after this line 
           <br>will not added to output as "hidden" information. 
	   </td>
</tr>

<tr valign=top>
       <td><a name=type></a>type</td>
       <td><font class=cmd>type "Text to display [@$result1] " [/class=x] [/style=" "] [/h1] [/h2] [/h3] [/h4] [/h5] <br>echo Text to display [@$result1]</font><br>
	   display text on the screen; 
           <br>if options are not used the text will added as a standard paragraph (html: &lt; p &gt;)
           <br>Options adds html specifications: /class:  (html: &lt;p class= &gt; text &lt;/p&gt;). 
           <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(h1..h5: &lt;hx&gt; text &lt;/hx&gt;)
            <br>/style="valid css style definition", e.g. /style="color:blue; Font-size=0.6em"  
          <br>result or globally defined variables may be displayed by putting @ before the variable name
          <br>USE ' ' to include text in type commands, e.g. for &lt; href=' ....'&gt;
	   </td>
</tr>

<tr valign=top>
       <td><a name=title></a>title</td>
       <td><font class=cmd>title "Text to display [@$result1] " </font><br>
	   Display text on the screen as (html: &lt;h1&gt; text &lt;/h1&gt;)
          <br>result or globally defined variables may be displayed by putting @ before the variable name
	   </td>
</tr>

<tr valign=top>
       <td><a name=show></a>show</td>
       <td><font class=cmd>show filename"<br>
           Add the contents of "filename" to the output window</font><br>
	   The file must be plain text, e.g. NOT a word processor file, but may contain HTML formatting blocks without header. 
	   </td>
</tr>


<tr valign=top>
       <td><a name=view></a>View</td>
       <td><font class=cmd>View filename"</font><br>
           View an html file in the viewer. <br>
	   The file must be HTML formatted. 
	   </td>
</tr>



<tr valign=top>
       <td><a name=helpview></a>HelpView</td>
       <td><font class=cmd>Helpview filename"</font><br>
           View an html file in the help file viewer. <br>
	   The file must be HTML formatted. 
	   </td>
</tr>

<tr valign=top>
       <td><a name=rename></a>rename</td>
       <td><font class=cmd>rename oldname to newname </font> <br>
	   rename the variable from "oldname" to "newname"<br>
	   </td>
</tr>

<tr valign=top>
       <td><a name=var></a><a name=variables></a>variables<br>var</td>
       <td><font class=cmd>variables</font> or <font class=cmd>var</font><br>
	   list currently defined variable names, types, formats and labels<br>
	   </td>
</tr>
<tr valign=top>
       <td><a name=drop></a>var drop<br>drop</td>
       <td><font class=cmd>var drop variable1 [variable2 ...]</font><br>
	   remove the listed variables from memory<br>
	   </td>
</tr>
<tr valign=top>
       <td><a name=keep></a>var keep<br>keep</td>
       <td><font class=cmd>var keep variable1 [variable2 ...]</font><br>
	   Remove all variables <b>not</b> listed from memory<br>
	   </td>
</tr>

<tr valign=top>
       <td><a name=results></a><a name=result></a>var result<br>var</td>
       <td><font class=cmd>var result</font><br>
	   list all current result variables and their values<br>
	   - <b>means</b>, <b>describe</b>, <b>tables</b> and other estimation commands create result variables, e.g. $mean1 or $count
       <br>All result variables are cleared when running a new command, except for $assert and $assert_error, 
 <br>See <font class=cmd>var temp clear</font> and <font class=cmd>runtest</font>
</td>
</tr>

<tr valign=top>
       <td>var temp clear</td>
       <td><font class=cmd>var temp clear</font><br>
	   Removes ALL result variables and all tempory global variables defined as global<br>
       <font class=limit>$assert, $assert_error and other internal variables</font> are also cleared</td>
</tr>

<tr valign=top>
       <td><a name=Version></a>Version</td>
       <td><font class=cmd>Version"<br>
           Compare current version of EpiDataStat.exe with latest version (requires internet)</font><br>
          <font class=limit>Note: No information is transferred from your PC</font>
            <br>Latest version is read from <a href="Http://www.epidata.dk/version/epidatastat.version">Http://www.epidata.dk/version/epidatastat.version</a> if you are connected to internet.
	   </td>
</tr>

<tr valign=top>
       <td><a name=assert></a>assert</td>
       <td><font class=cmd>assert if (logical statement)</font><br>
	   Check if the statement is correct (will not test all observations !!
           Return text "Assert failed" if statement failed 
<br>E.g. <font class=cmd>assert ((pregnant = "Yes" and age &lt; 40) or (pregnant = "No")) if id = 1 </font>
</td></tr>

<tr valign=top>
       <td><a name=calculate></a>?</td>
       <td><font class=cmd>? (statement)</font><br>
	   Show result of statement, e.g. a calculation or logical check. Does not depend on or check any data.
<br>E.g. <font class=cmd>? 241/34  ? (23&gt;19) ? "a " + "b " + "c" ? findfile("myfile.pgm") </font>
</td></tr>

<tr><td colspan=2 class=cmdgroup><a name="oldcommandgrp"></a><a href=#top>Top</a> Obsolete commands
  </td></tr>

<tr valign=top>
       <td><a name=output></a>output</td>
       <td><font class=cmd>output {describe ... | means ...}</font><br>
	   Command replaced by new command <font class=cmd><a href=#aggregate>aggregate</a></font>
</tr>

<tr valign=top>
       <td><a name=route></a>route</td>
       <td><font class=limit>command replaced by SAVEDATA and LOGOPEN commands</font></td>
</tr>


<tr valign=top>
       <td><a name=write></a>write</td>
	<td>   <font class=limit>command replaced by SAVEDATA and LOGOPEN commands</font></td>
</tr>


<tr><td colspan=2 class=cmdgroup><a name="diskgrp"></a><a href=#top>Top</a> Disk commands
  </td></tr>
<tr valign=top>
       <td>cd</td>
       <td><font class=cmd>cd "directory name"</font><br>
	   change the working director
	   </td>
</tr>
<tr valign=top>
       <td><a name=copyfile></a>copyfile</td>
       <td><font class=cmd>copyfile "filespec1" "filespec2"</font><br>
	   copy file specified by <i>filespec1</i> to new file specified by <i>filespec2</i><br>
	   - <i>filespec</i> must identify only one file - do NOT include wild cards (* or ?)<br>
           To overwrite: <font class=cmd>../replace</font> Could overwrite your data !!<br>
        </td>
</tr>

<tr valign=top>
       <td><a name=erase></a>erase</td>
       <td><font class=cmd>erase filename</font><br>
	   permanently erase file specified by <i>filename</i><br>
	   - <i>filename</i> must identify only one file - do NOT include wild cards (* or ?)</td>
</tr>
<tr valign=top>
       <td><a name=rename></a>rename file</td>
       <td><font class=cmd>use copy and erase</font><br>
	   To rename a file use <font class=cmd>copyfile</font>from the existing file
           <br>Afterwards you can erase the existing file with <font class=cmd>erase</font>. 
</td>
</tr>
<tr valign=top>
       <td><a name=dir></a>dir</td>
       <td><font class=cmd>dir [filespec]</font><br>
	   list files in a directory<br>
	   - <i>filespec</i> may include wild cards (* or ?)
       <br>Define design by <font class=cmd>set table design system=line[box][filled][shaded][system]... </font>
</td>
</tr>
<tr valign=top>
       <td><a name=dos></a>dos<br>!</td>
       <td><font class=cmd>dos text</font><br>
	   execute any valid MS-DOS command and return to EpiData<br>
	   - <i>dos command</i> will open an MS-DOS window
           <br>/open : Keep window open after execution 
          <br><font class=limit>!</font>works only on XP+ Pc's        
</td></tr>

<tr><td colspan=2 class=cmdgroup><a name=comment></a><a name="programgrp"></a><a href=#top>Top</a> Programming aids - not normally used in interactive mode
  </td></tr>

<tr valign=top>
       <td>*</td>
       <td><font class=cmd>* [any text]</font><br>
	   Use to document programs, usually as the first character in a line. * is not recognized in interactive mode.
</td></tr>

<tr valign=top>
       <td>\</td>
       <td><font class=cmd>\</font><br>
	   Any command can be extended on next line, e.g. to specify many options for graphs
</td></tr>

<tr valign=top>
       <td>;</td>
       <td><font class=cmd>;</font><br>
	   to specify more than one command on a given command line in prompt or pgm
</td></tr>

<tr valign=top>
       <td>//</td>
       <td><font class=cmd>[any command] // [any text]</font><br>
	   Use to document programs and may appear anywhere on a line.
</td></tr>

<tr valign=top>
       <td><a name=imif></a>imif</td>
       <td><font class=cmd>IMIF (logical condition) then ..... [else] ..... endif </font><br>
	   Use to divert course in a pgm file depending on parameters, which could be acquired by "?   ?" 
</td></tr>

<tr valign=top>
       <td><a name=help></a>closehelp</td>
       <td><font class=cmd>closehelp</font><br>
	   Will close the help window if this is open. 
</td></tr>

<tr valign=top>
       <td>? ?</td>
       <td><font class=cmd>[any command] [parameters] "?Prompt to user? [parameters]</font><br>
	   The text between the two ? will be a prompt to the user to type a response, followed by &lt;Enter&gt;. 
           The response will then be treated as part of the command.<br>
           For <font class=cmd>select if age&lt;=?Maximum age to include?</font><br>
           if the user types <font class=cmd>50</font> then EpiData sees <font class=cmd>select if age&lt;=50</font><br>
           EpiData does no checking of the typed response before making the substitution.
</td>
</tr>


<tr valign=top>
       <td><a name=run>run</a></td>
       <td><font class=cmd>run [filename[.pgm]]</font><br>
	   Execute sequence of commands saved in a pgm file<br>
	   - without parameters, the open file dialogue is started</td>
</tr>

<tr valign=top>
       <td><a name=run>runtest</a></td>
       <td><font class=cmd>runteset [filename|folder name]  </font><br>
	   Run all pgm's /single pgms to verify function. <br>
	   - suited for testing of correct estimation etc. </td>
</tr>

</table>

<a name=functions></a><h3>Functions available in EpiData Analysis</h3>
<table border="1" cellspacing="0" cellpadding="4" frame="void" rules="rows" width=100%>
<tr>
       <td>
	   <ul><li><a href=#stringgrp>String functions</a></li>
	   <li><a href=#mathgrp>Arithmetic functions</a></li></ul>
</td>
       <td>
	   <ul><li><a href=#dategrp>Date functions</a></li>
	   <li><a href=#logicgrp>Logic functions</a></li></ul>
</td>
       <td>
	   <ul><li><a href=#convertgrp>Conversion functions</a></li>
		<li><a href=#testgrp>Test and special functions</a></li></ul></td>
<td>	   <li><a href=#operators>Operators</a></li></ul>
</td>
</tr>
</table>

<p>In the following, <i>takes</i> indicates the variable type for each parameter and <i>result</i> indicates the type 
of the result of the function:<br>
<b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s: string; b: boolean; d: date; i: integer; f: floating point; n: any numeric</b><br>
parameters may be variables read from fields, new created variables, or any expression that evaluates to the correct type</p>


<table border="1" cellspacing="0" cellpadding="4" frame="void" rules="rows">
<tr><td colspan=4 class=cmdgroup><a name=stringgrp></a><a href=#top>Top</a> String functions</td></tr>

<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>length(str)</td><td>s</td><td>i</td><td>length("Abcde") =&gt; 5</td></tr>
<tr valign=top><td>lower(str)</td><td>s</td><td>s</td><td>lower("Abcde") =&gt; "abcde"</td></tr>
<tr valign=top><td>pos(instr,findstr)</td><td>s</td><td>i</td><td>pos("Abcde","cd") =&gt; 3<br>pos("Abcde","z") =&gt; 0</td></tr>
<tr valign=top><td>substr(str,start,len)<br>copy(str,start,len)</td><td>s,i,i</td><td>s</td><td>substr("Abcde",2,3) =&gt; "bcd"<br>copy("Abcde",2,3) =&gt; "bcd"</td></tr>
<tr valign=top><td>trim(str)</td><td>s</td><td>s</td><td>trim("Abcde   ") =&gt; "Abcde"</td></tr>
<tr valign=top><td>upper(str)</td><td>s</td><td>s</td><td>upper("Abcde") =&gt; "ABCDE"</td></tr>

<tr><td colspan=4 class=cmdgroup><a name=mathgrp></a><a href=#top>Top</a> Arithmetic functions (including Random numbers)</td></tr>

<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>abs(x)</td><td>n</td><td>n</td><td>abs(-12) =&gt; 12</td></tr>
<tr valign=top><td>exp(x)</td><td>n</td><td>f</td><td>exp(1) =&gt; 2.71828182845905</td></tr>
<tr valign=top><td>frac(x)</td><td>f</td><td>f</td><td>frac(12.34) =&gt; 0.34</td></tr>
<tr valign=top><td>int(x)<br>trunc(x)</td><td>f</td><td>f</td><td>int(12.34) =&gt; 12.0<br>trunc(12.34) =&gt; 12.0</td></tr>
<tr valign=top><td>integer(x)</td><td>f</td><td>i</td><td>integer(12.34) =&gt; 12 </td></tr>
<tr valign=top><td>ln(x)</td><td>n</td><td>f</td><td>ln(2.71828182845905) =&gt; 1<br>ln(0) =&gt; missing</td></tr>
<tr valign=top><td>log(x)</td><td>n</td><td>f</td><td>log(10) =&gt; 1<br>log(0) =&gt; missing</td></tr>
<tr valign=top><td>power(x,a)</td><td>n,n</td><td>f</td><td>power(2,3) =&gt; 8</td></tr>
<tr valign=top><td>round(x,digits)</td><td>f</td><td>f</td><td>round(12.44,1) =&gt; 12.4<br>round(12.5,0) =&gt; 13</td></tr>
<tr valign=top><td>sqr(x)</td><td>n</td><td>f</td><td>sqr(4) =&gt; 16</td></tr>
<tr valign=top><td>sqrt(x)</td><td>f</td><td>f</td><td>sqrt(4) =&gt; 2</td></tr>
<tr valign=top><td>ran(x) </td><td>n</td><td>n</td><td>Random integer from 0 to x. gen integer x = ran(100)</td></tr>
<tr valign=top><td>rnd(1) </td><td>1</td><td>f</td><td>Random float from 0 to 1. gen float x=rnd(1)</td></tr>
<tr valign=top><td>rang(mean,sd) </td><td>f,f</td><td>f</td><td>Random based on mean and sd. Gen float=rang($mean1,$sd1)</td></tr>

<tr><td colspan=4 class=cmdgroup><a name=triggrp></a><a href=#top>Top</a> Trigonomety functions</td></tr>
<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>arctan(x)</td><td>f</td><td>f</td><td>arctan(1) =&gt; pi/2</td></tr>
<tr valign=top><td>cos(r)</td><td>f</td><td>f</td><td>cos(pi/2) =&gt; 6.12303176911189E-17<br>cos(pi) =&gt; -1</td></tr>
<tr valign=top><td>pi</td><td>-</td><td>f</td><td>pi =&gt; 3.14159265358979</td></tr>
<tr valign=top><td>sin(r)</td><td>f</td><td>f</td><td>sin(pi/2) =&gt; 1<br>sin(pi) =&gt; 6.12303176911189E-17</td></tr>
<tr valign=top><td><i>others</i></td><td>&nbsp;</td><td>&nbsp;</td><td>tan(x) = sin(x) / cos(x)
<br>arcsin(x) = arctan (x/sqrt (1-sqr (x)))
<br>arccos(x) = arctan (sqrt (1-sqr (x)) /x)</td></tr>

<tr><td colspan=4 class=cmdgroup><a name=dategrp></a><a href=#top>Top</a> Date functions</td></tr>
<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>today</td><td>-</td><td>d/i</td><td>returns today's date; may be assigned to a date variable or an integer </td></tr>
<tr valign=top><td>date(datestr)</td><td>s</td><td>d</td><td>date("31/12/04") =&gt; "31/12/2004"<br>datestr must be of form &lt;dd/mm/yy&gt; or &lt;dd/mm/yyyy&gt;</td></tr>
<tr valign=top><td>date(datestr,fmtstr)</td><td>s,s</td><td>d</td><td>date("12/31/04","mdy") =&gt; "31/12/2004"<br>fmtstr must be "mdy" or "dmy". <br>Date separator can be anything e.g. "31-12-2004" is accepted</td></tr>
<tr valign=top><td>day(d)</td><td>d</td><td>i</td><td>day("31/12/2004") =&gt; 31</td></tr>
<tr valign=top><td>dayofweek(d)</td><td>d</td><td>i</td><td>dayofweek("31/12/2004") =&gt; 5<br>Monday=1, Sunday=7</td></tr>
<tr valign=top><td>dmy(d,m,y)</td><td>i,i,i</td><td>d</td><td>dmy(31,12,2004) =&gt; "31/12/2004"</td></tr>
<tr valign=top><td>month(d)</td><td>d</td><td>i</td><td>month("31/12/2004") =&gt; 12</td></tr>
<tr valign=top><td>weeknum(d)</td><td>d</td><td>i</td><td>weeknum("22/02/2001") =&gt; 8</td></tr>
<tr valign=top><td>year(d)</td><td>d</td><td>i</td><td>year("31/12/2004") =&gt; 2004</td></tr>

<tr><td colspan=4 class=cmdgroup><a name=logicgrp></a><a href=#top>Top</a> Logic functions</td></tr>
<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>and(b1,b2)</td><td>b,b</td><td>b</td><td>and(1=1,2=2) =&gt; TRUE<br>and(1=1,1=2) =&gt; FALSE</td></tr>
<tr valign=top><td>iif(b,x,y)</td><td>b,any,any</td><td>b</td><td>iif(1=1,2,0) =&gt; 2<br>iif(1=2,sqrt(4),sqr(4)) =&gt; 16</td></tr>
<tr valign=top><td>or(b1,b2)</td><td>b,b</td><td>b</td><td>or(1=1,1=2) =&gt; TRUE<br>or(1=2,2=3) =&gt; FALSE</td></tr>
<tr valign=top><td>not(b)</td><td>b</td><td>b</td><td>not(1=1) =&gt; FALSE<br>not(1=2) =&gt; TRUE</td></tr>

<tr><td colspan=4 class=cmdgroup><a name=convertgrp></a><a href=#top>Top</a> Conversion functions</td></tr>
<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>boolean(x)</td><td>n</td><td>b</td><td>boolean(x) =&gt; TRUE, for any non-zero x<br>boolean(0) =&gt; FALSE</td></tr>
<tr valign=top><td>integer(x)</td><td>f</td><td>i</td><td>integer(1.23) =&gt; 1</td></tr>
<tr valign=top><td>integer(s)</td><td>s</td><td>i</td><td>integer("12") =&gt; 12 </td></tr>
<tr valign=top><td>float(i)</td><td>i</td><td>f</td><td>float(1) =&gt; 1.000</td></tr>
<tr valign=top><td>string(x)</td><td>n</td><td>s</td><td>string(1.23) =&gt; "1.23"</td></tr>


<tr><td colspan=4 class=cmdgroup><a name=testgrp></a><a href=#top>Top</a> Test and special functions</td></tr>
<tr><td><b>function</td><td><b>takes</td><td><b>result</td><td><b>example</td></tr>
<tr valign=top><td>lre(x,y)</td><td>n</td><td>n</td><td>lre($mean1,1.23456789123456) returns number of digits precision of $mean1</td></tr>
<tr valign=top><td>samenum(x,y,z)</td><td>n</td><td>n</td><td>? samenum($mean1,1.23456789123456,10-7) returns true or false indicating if |(x-y)| &lt; z</td></tr>
<tr valign=top><td>samenum(x,y,z)</td><td>n</td><td>n</td><td>? samenum($mean1,1.23456789123456) returns true or false indicating if |x| = |y|</td></tr>
<tr valign=top><td>mv(var)</td><td>variable name</td><td>0,1,2</td><td>Returns 0 if variable has a valid value, 1 if system missing (.), and 2 if a defined missing value</td></tr>

<tr valign=top><td>var[recnumber]</td><td>n</td><td>data value</td><td>Not a function, 
but a way to get a value for a given record. E.g. gen i x=age[recnumber] = age[recnumber-1] or gen i x=age[_n] = age[_n-1]</td></tr>
<tr valign=top><td>findfile("filename.ext")</td><td>s</td><td>1 or 0</td><td>Checks if the file exists and returns a 1 if so otherwise a 0. 
<br>use e.g. imif findfile("myexport.csv") then ....... endif </td></tr>

</table>

<br>
<table border="1" cellspacing="0" cellpadding="4" frame="void" rules="rows">
<tr><td colspan=5 class=cmdgroup><a name="operators"></a><a href=#top>Top</a> Operators used in EpiData Analysis</td></tr>
<tr><td><b>operator</td><td><b>syntax</td><td><b>result</td><td><b>meaning</td><td><b>example</b></td></tr>
<tr valign=top><td>+</td><td>n+n</td><td>n</td><td>addition</td><td>1+2 =&gt; 3</td></tr>
<tr valign=top><td>+</td><td>s+any<br>any+s</td><td>s</td><td>concatenation</td><td>"A"+"B" =&gt; "AB"<br>"A"+1 =&gt; "A1"</td></tr>
<tr valign=top><td>+</td><td>d+n</td><td>d</td><td>date addition</td><td>"30/11/2004"+31 =&gt; "31/12/2004"</td></tr>
<tr valign=top><td>-</td><td>n-n</td><td>n</td><td>subtraction</td><td>2-1 =&gt; 1</td></tr>
<tr valign=top><td>-</td><td>d-d</td><td>n</td><td>date subtraction</td><td>"31/12/2004"-"30/11/2004" =&gt; 31</td></tr>
<tr valign=top><td>-</td><td>d-n</td><td>d</td><td>date subtraction</td><td>"31/12/2004"-31 =&gt; "30/11/2004"</td></tr>
<tr valign=top><td>*</td><td>n*n</td><td>n</td><td>multiplication</td><td>2*3 =&gt; 6</td></tr>
<tr valign=top><td>/</td><td>n/n</td><td>n</td><td>division</td><td>5/2 =&gt; 2.5<br>5/0 =&gt; missing</td></tr>
<tr valign=top><td>div</td><td>n div n</td><td>i</td><td>integer result of division</td><td>5 div 2 =&gt; 2<br>5 div 0 =&gt; missing</td></tr>
<tr valign=top><td>^</td><td>n^n</td><td>f</td><td>exponentiation</td><td>5^2 =&gt; 25<br>4^0.5 =&gt; 2</td></tr>
<tr valign=top><td>( )</td><td></td><td></td><td>group expressions</td><td>(5*(2+4))/2 =&gt; 15<br>5*2+4/2 == (5*2)+(4/2) =&gt; 12</td></tr>
<tr valign=top><td>&lt;</td><td>n&lt;n</td><td>b</td><td>less than</td><td>1<2 =&gt; TRUE</td></tr>
<tr valign=top><td>&gt;</td><td>n&gt;n</td><td>b</td><td>greater than</td><td>1>2 =&gt; FALSE</td></tr>
<tr valign=top><td>&lt;=</td><td>n&lt;=n</td><td>b</td><td>less than or equal</td><td>1<=2 =&gt; TRUE<br>2<=2 =&gt; TRUE</td></tr>
<tr valign=top><td>&gt;=</td><td>n&gt;=n</td><td>b</td><td>greater than or equal</td><td>1>=2 =&gt; FALSE<br>2>=2 =&gt; TRUE</td></tr>
<tr valign=top><td>&lt;&gt;</td><td>n&lt;&gt;n</td><td>b</td><td>not equal to</td><td>1<>2 =&gt; TRUE<br>1<>1 =&gt; FALSE</td></tr>
<tr valign=top><td>@</td><td>@var1</td><td></td><td>value substitution</td><td>used in any command, replaces <i>@var1</i> with the contents of <i>var1</i> before executing the command</td></tr>
<tr valign=top><td>$</td><td colspan=2>$resultvar</td><td>result value</td><td>used in <b>let</b> or <b>gen</b>, takes content of <i>$resultvar</i> as a constant</td></tr>
</table>

</body>
</html>
